\section*{Core Instruction Set}

\hyphenation{Unsigned}
\renewcommand{\thefootnote}{\alph{footnote}}
\newcolumntype{M}{>{\tt}l}
\newcolumntype{A}{>{\tt}l}
\newcolumntype{D}{>{\raggedright\arraybackslash\hangindent=4ex}X}

\begin{tabularx}{\textwidth}{lMAccD}
    \toprule
    \multicolumn{2}{l}{\textsc{Name}\hfill\textsc{Mnemonic}} &
    \multicolumn{2}{l}{\textsc{Operands}\hfill\textsc{Fmt}}  &
    \multicolumn{2}{l}{\textsc{Opcode/Funct}\hfill\textsc{Operation}\hfill\phantom{x}}                                                                                                                      \\
    \midrule
    Add                                                      & add   & rd, rs, rt    & R & \texttt{0/0x20} & R[rd] = R[rs] + R[rt]                          \footnotemark[1]                 \\
    Add Imm.                                                 & addi  & rt, rs, imm   & I & \texttt{0x08}   & R[rt] = R[rs] + SignExtImm                     \footnotemark[1]\footnotemark[2] \\
    Add Unsigned                                             & addu  & rd, rs, rt    & R & \texttt{0/0x21} & R[rd] = R[rs] + R[rt]                                                           \\
    Add Imm. Unsigned                                        & addiu & rt, rs, imm   & I & \texttt{0x09}   & R[rt] = R[rs] + SignExtImm                     \footnotemark[2]                 \\
    Subtract                                                 & sub   & rd, rs, rt    & R & \texttt{0/0x22} & R[rd] = R[rs] - R[rt]                          \footnotemark[1]                 \\
    Subtract Unsigned                                        & subu  & rd, rs, rt    & R & \texttt{0/0x23} & R[rd] = R[rs] - R[rt]                                                           \\
    And                                                      & and   & rd, rs, rt    & R & \texttt{0/0x24} & R[rd] = R[rs] \& R[rt]                                                          \\
    And Imm.                                                 & andi  & rt, rs, imm   & I & \texttt{0x0c}   & R[rt] = R[rs] \& ZeroExtImm                    \footnotemark[3]                 \\
    Or                                                       & or    & rd, rs, rt    & R & \texttt{0/0x25} & R[rd] = R[rs] | R[rt]                                                           \\
    Or Imm.                                                  & ori   & rt, rs, imm   & I & \texttt{0x0d}   & R[rt] = R[rs] | ZeroExtImm                     \footnotemark[3]                 \\
    Exclusive-Or                                             & xor   & rd, rs, rt    & R & \texttt{0/0x26} & R[rd] = R[rs] \textasciicircum{} R[rt]                                          \\
    Exclusive-Or Imm.                                        & xori  & rt, rs, imm   & I & \texttt{0x0e}   & R[rt] = R[rs] \textasciicircum{} ZeroExtImm    \footnotemark[3]                 \\
    Nor                                                      & nor   & rd, rs, rt    & R & \texttt{0/0x27} & R[rd] = \textasciitilde (R[rs] | R[rt])                                         \\
    \midrule
    Shift Left Logical                                       & sll   & rd, rt, shamt & R & \texttt{0/0x00} & R[rd] = R[rt] <{}< shamt                                                        \\
    Shift Right Logical                                      & srl   & rd, rt, shamt & R & \texttt{0/0x02} & R[rd] = R[rt] >{}>{}> shamt                                                     \\
    \midrule
    Set Less Than                                            & slt   & rd, rs, rt    & R & \texttt{0/0x2a} & R[rd] = (R[rs] < R[rt]) ? 1 : 0                                                 \\
    \quad\textasciitilde{} Imm.                              & slti  & rt, rs, imm   & I & \texttt{0x0a}   & R[rt] = (R[rs] < SignExtImm) ? 1 : 0           \footnotemark[2]                 \\
    \quad\textasciitilde{} Unsigned                          & sltu  & rd, rs, rt    & R & \texttt{0/0x2b} & R[rd] = (R[rs] < R[rt]) ? 1 : 0                \footnotemark[6]                 \\
    \quad\textasciitilde{} Imm. Unsigned                     & sltiu & rt, rs, imm   & I & \texttt{0x0b}   & R[rt] = (R[rs] < SignExtImm) ? 1 : 0           \footnotemark[2]\footnotemark[6] \\
    \midrule
    Load Upper Imm.                                          & lui   & rt, imm       & I & \texttt{0x0f}   & R[rt] = \{imm, 16'b0\}                                                          \\
    Load Word                                                & lw    & rt, imm(rs)   & I & \texttt{0x23}   & R[rt] = M[R[rs] + SignExtImm]                  \footnotemark[2]                 \\
    Load Byte Unsigned                                       & lbu   & rt, imm(rs)   & I & \texttt{0x24}   & R[rt] = \{24'b0, M[R[rs] + SignExtImm](7:0)\}  \footnotemark[2]                 \\
    Load Halfword Un\textasciitilde{}                        & lhu   & rt, imm(rs)   & I & \texttt{0x25}   & R[rt] = \{16'b0, M[R[rs] + SignExtImm](15:0)\} \footnotemark[2]                 \\
    Store Byte                                               & sb    & rt, imm(rs)   & I & \texttt{0x28}   & M[R[rs] + SignExtImm](7:0) = R[rt](7:0)        \footnotemark[2]                 \\
    Store Halfword                                           & sh    & rt, imm(rs)   & I & \texttt{0x29}   & M[R[rs] + SignExtImm](15:0) = R[rt](15:0)      \footnotemark[2]                 \\
    Store Word                                               & sw    & rt, imm(rs)   & I & \texttt{0x2b}   & M[R[rs] + SignExtImm] = R[rt]                  \footnotemark[2]                 \\
    \midrule
    Jump                                                     & j     & target        & J & \texttt{0x02}   & PC = JumpAddr                                  \footnotemark[5]                 \\
    Jump And Link                                            & jal   & target        & J & \texttt{0x03}   & R[31] = PC + 8; PC = JumpAddr                  \footnotemark[5]                 \\
    Branch on Equal                                          & beq   & rs, rt, label & I & \texttt{0x04}   & if(R[rs] == R[rt]) PC = PC + 4 + BranchAddr    \footnotemark[4]                 \\
    Branch on Not Equal                                      & bne   & rs, rt, label & I & \texttt{0x05}   & if(R[rs] != R[rt]) PC = PC + 4 + BranchAddr    \footnotemark[4]                 \\
    Jump Register                                            & jr    & rs            & R & \texttt{0/0x08} & PC = R[rs]                                                                      \\
    \bottomrule
\end{tabularx}

% \begin{minipage}[t]{\linewidth-4em}
%     \begin{multicols}{2}
%         \small
%         \footnotemark[1]{May cause overflow exception}    \\
%         \footnotemark[2]{SignExtImm = \{16\{immediate[15]\}, immediate\}} \\
%         \footnotemark[3]{ZeroExtImm = \{16\{1b'0\}, immediate\}}    \\
%         \footnotemark[4]{BranchAddr = \{14\{immediate[15]\}, immediate, 2'b0\}} \\
%         \footnotemark[5]{JumpAddr = \{PC+4[31:28], address, 2'b0\}}    \\
%         \footnotemark[6]{Operands considered unsigned numbers (vs. 2's comp.)}
%         % \footnotemark[7]{Atomic test \& set pair; R[rt] = 1 if pair atomic, 0 if not atomic}
%     \end{multicols}
% \end{minipage}
