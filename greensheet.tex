\documentclass[10pt]{article}

\usepackage[a3paper, left=15mm,right=10mm, top=8mm, bottom=8mm, headheight=10pt]{geometry}
\usepackage{pgfpages}
\pgfpagesuselayout{resize to}[a4paper]

\usepackage[T1]{fontenc}
\usepackage[sfdefault,lining,scaled=.96]{FiraSans}
\usepackage[lining,scaled=.96]{FiraMono}
\usepackage{concmath}

\usepackage{amssymb}
\usepackage{tabularx,booktabs,multirow}

\usepackage{enumitem}
\setlist{nosep}

\usepackage{fancyvrb}

\usepackage{titlesec}
\titleformat{\section}{\large\bfseries\scshape}{\thesection}{1ex}{}
\titlespacing{\section}{0pt}{1ex}{0pt}

\usepackage{multicol}
\usepackage{tabto}
\usepackage{grid-system}

\usepackage{bytefield}
\usepackage{karnaugh-map,adjustbox}
\usepackage{tikz}
\usepackage[american]{circuitikz}
\ctikzset{
    logic ports=ieee,
    logic ports/scale=0.7,
}


\setlength\parindent{0pt}

\begin{document}

\thispagestyle{empty}

\textbf{\Huge MIPS Reference Sheet}

\vspace{1em}

\begin{minipage}[t]{0.68\linewidth}
    \input{content/coreinsn.tex}

    \input{content/register.tex}

    \begin{minipage}[t]{0.71\linewidth}
        \input{content/logic-gates.tex}
    \end{minipage}
    \hfill
    \begin{minipage}[t]{0.28\linewidth}
        \input{content/number-system.tex}
    \end{minipage}
\end{minipage}
\hfill
\begin{minipage}[t]{0.3\linewidth}
    \input{content/insn-format.tex}

    \input{content/ieee754.tex}

    \input{content/ascii.tex}
\end{minipage}

\vfill

\clearpage


\begin{minipage}[t]{0.64\linewidth}
    \section*{MIPS Data Path}
    \centering
    \includegraphics[width=\linewidth]{content/fig417.pdf}
\end{minipage}
\begin{minipage}[t]{0.35\linewidth}
    \section*{1-bit ALU}
    \includegraphics[width=\linewidth]{content/alu.pdf}
    \begin{center}
        \begin{tabular}[t]{c|ccc|c}
            \toprule
            ALUControl & Ainvert & Binvert & Operation & Action \\
            \midrule
            {\tt 0000} & 0       & 0       & 00        & AND    \\
            {\tt 0001} & 0       & 0       & 01        & OR     \\
            {\tt 0010} & 0       & 0       & 10        & ADD    \\
            {\tt 0110} & 0       & 1       & 10        & SUB    \\
            {\tt 0111} & 0       & 1       & 11        & SLT    \\
            {\tt 1100} & 1       & 1       & 00        & NOR    \\
            \bottomrule
        \end{tabular}
    \end{center}
\end{minipage}

\begin{minipage}[t]{\linewidth}
    \section*{MIPS Control Path}

    \begin{minipage}[t]{0.32\textwidth}
        \input{content/control.tex}
    \end{minipage}
    \begin{minipage}[t]{0.64\textwidth}
        \input{content/aluctrl.tex}
    \end{minipage}
\end{minipage}

\vspace{1ex}

\begin{minipage}[t]{0.32\linewidth}
    \input{content/k-map.tex}
\end{minipage}
\begin{minipage}[t]{0.64\linewidth}
    \input{content/boolean-algebra.tex}
\end{minipage}

\end{document}
